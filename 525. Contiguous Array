class Solution {
public:
    int findMaxLength(vector<int>& nums) {
    unordered_map<int,int>firstindex;
    int prefix=0,maxlen=0;
    firstindex[0]=-1;
    for(int i=0;i<nums.size();i++){
        prefix+=(nums[i]==0?-1:1);
        if(firstindex.count(prefix)){
            maxlen=max(maxlen,i-firstindex[prefix]);
        }else{
            firstindex[prefix]=i;
        }
    }
    return maxlen;
        
    }
};
